<mat-select [ngModel]="chartType" (ngModelChange)="selectChart($event)">
    <mat-optgroup *ngFor="let group of chartGroups"
                  [label]="group.name"
                  [disabled]="group.disabled">
      <ng-container *ngFor="let chart of group.charts">
        <mat-option *ngIf="chart.visible"
                    [value]="chart.selector">
          {{ chart.name }}
        </mat-option>
      </ng-container>

    </mat-optgroup>
</mat-select>
